; ============================================================
; Common settings shared by all ESP32-2432S028 board variants
; ============================================================
[env]
platform = espressif32
board = esp32dev
framework = arduino

; Build settings
monitor_speed = 115200
upload_speed = 921600

; Libraries
lib_deps =
    bodmer/TFT_eSPI@^2.5.43
    h2zero/NimBLE-Arduino@^1.4.1
    bblanchon/ArduinoJson@^6.21.3
    mbedtls

; TFT_eSPI User Setup for ESP32-2432S028 (ILI9341)
build_flags =
    -DUSER_SETUP_LOADED=1
    -DILI9341_2_DRIVER=1
    -DTFT_WIDTH=240
    -DTFT_HEIGHT=320
    -DTFT_RGB_ORDER=TFT_BGR
    -DTFT_INVERSION_OFF=1
    -DTFT_MISO=12
    -DTFT_MOSI=13
    -DTFT_SCLK=14
    -DTFT_CS=15
    -DTFT_DC=2
    -DTFT_RST=-1
    -DTFT_BL=21
    -DTFT_BACKLIGHT_ON=HIGH
    -DLOAD_GLCD=1
    -DLOAD_FONT2=1
    -DLOAD_FONT4=1
    -DLOAD_FONT6=1
    -DLOAD_FONT7=1
    -DLOAD_FONT8=1
    -DLOAD_GFXFF=1
    -DSMOOTH_FONT=1
    -DSPI_FREQUENCY=20000000
    -DSPI_READ_FREQUENCY=16000000

; Suppress TFT_eSPI internal #warning directives during library compilation only.
; This is the sole lib_build_flags definition in the project. Any env that needs to
; override lib_build_flags should re-include this flag if suppression is still desired.
; Comment out during development to surface potentially useful library diagnostics.
lib_build_flags =
    -DDISABLE_ALL_LIBRARY_WARNINGS=1

; SPIFFS for OUI database
board_build.filesystem = spiffs
board_build.partitions = min_spiffs.csv

; ============================================================
; 2-USB CYD variant (capacitive touch CST820, GPIO 25 shared)
; Buzzer disabled â€” GPIO 25 doubles as CST820 touch-reset.
; ============================================================
[env:esp32-2432s028]
build_flags =
    ${env.build_flags}
    -DBOARD_CYD_2USB=1
